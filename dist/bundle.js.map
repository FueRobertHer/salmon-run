{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/air.js","webpack:///./src/camera.js","webpack:///./src/element.js","webpack:///./src/ground.js","webpack:///./src/index.js","webpack:///./src/krill.js","webpack:///./src/level.js","webpack:///./src/moving_obj.js","webpack:///./src/prey.js","webpack:///./src/salmon.js","webpack:///./src/salmon_run.js","webpack:///./src/water.js","webpack:///./src/zoo_plankton.js"],"names":["Air","pos","width","height","left","top","right","bottom","gravity","salmon","salmonIsIn","yVel","ctx","fillStyle","fillRect","drawAir","Element","Camera","x","y","mapWidth","mapHeight","xDeadZone","yDeadZone","followed","paused","score","salmonSize","atStart","gameover","countdown","count","setInterval","pause","clearInterval","stopCount","bounds","timeUp","size","blackScreen","showTitle","showStartDir","font","textAlign","text","fillText","showScore","showReplay","img","showStartScreen","showEndScreen","drawImage","drawCountdown","clearRect","update","draw","_overlap","rect1","rect2","isIn","Ground","drawGround","canvas","document","getElementById","cam","SalmonRun","Krill","foodValue","eaten","Image","src","Prey","Level","dimensions","food","enemies","buildLevel","air","water","Water","rawGrounds","grounds","forEach","option","ground","push","num","lastFood","length","spacing","krill","randomYPos","generateFood","prey","i","getEaten","splice","applyCurrent","moveRandomly","animate","applyAir","stopSalmon","animateEnv","animateFood","MovingObj","xVel","touch","Math","floor","random","collide","totalEaten","grow","CONSTANTS","GRAVITY","TERMINAL_VEL","Salmon","initialWidth","alive","faceLeft","currentFrame","counter","salmonImg","framesWidth","framesHeight","frameSpeed","endFrame","moveSalmon","drawSalmon","getContext","camDim","moveInput","up","down","running","registerEvents","restart","startNewGame","unpause","camera","timeZero","timeleft","level","follow","addEventListener","keyDown","bind","keyUp","e","play","key","gameOver","moveUp","moveLeft","moveDown","moveRight","inLevel","takeScore","salmonTotalEaten","setTimeout","atSurface","salmonMove","requestAnimationFrame","playGame","shape","friction","current","buoyancy","randomPos","obj","obj1Radius","obj2Radius","totalRadius","a","b","c","sqrt","drawWater","ZooPlankton"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import Element from './element';\n\nexport default class Air extends Element {\n  constructor(pos, width, height) {\n    super(pos, width, height)\n\n    this.pos = pos;\n    this.width = width;\n    this.height = height;\n\n    this.left = this.pos[0];\n    this.top = this.pos[1];\n    this.right = this.left + this.width;\n    this.bottom = this.top + this.height;\n\n    this.gravity = 0.1;\n  }\n\n  applyAir(salmon) {\n    if (this.salmonIsIn(salmon)) {\n      salmon.yVel += this.gravity;\n    }\n  }\n\n  drawAir(ctx) {\n    ctx.fillStyle = \"rgba(100, 100, 100, 0.8)\";\n    ctx.fillRect(this.pos[0], this.pos[1], this.width, this.height);\n  }\n\n\n\n  animate(ctx) {\n    this.drawAir(ctx);\n  }\n\n}","export default class Camera {\n  constructor(x, y, width, height, mapWidth, mapHeight) {\n    this.x = x || 0;\n    this.y = y || 0;\n\n    this.xDeadZone = 250;\n    this.yDeadZone = 150;\n\n    this.width = width;\n    this.height = height;\n\n    this.mapWidth = mapWidth;\n    this.mapHeight = mapHeight;\n\n    this.followed = null;\n    this.paused = false\n    this.score = 0\n    this.salmonSize = 0\n    this.atStart = true\n    this.gameover = false\n\n    this.countdown = 2\n\n    this.count = setInterval(() => {\n      this.countdown--\n    }, 1000);\n    this.pause()\n  }\n\n  stopCount() {\n    clearInterval(this.count)\n  }\n\n  startCountdown() {\n    setInterval(() => {\n      this.countdown--\n    }, 1000);\n  }\n\n  follow(salmon) {\n    this.followed = salmon;\n  }\n\n  unpause() {\n    if (this.paused) {\n      this.paused = false\n      this.count = setInterval(() => {\n        this.countdown--\n      }, 1000);\n    }\n  }\n\n  pause() {\n    this.paused = true\n    this.stopCount()\n  }\n\n  timeUp() {\n    if (this.countdown === 0) this.stopCount()\n  }\n\n  update() {\n    if (this.followed != null) {\n      if (this.followed.bounds().left < this.width/2) {\n        this.x = 0;\n      } else if (this.followed.bounds().left > (this.mapWidth - this.width/2)) {\n        this.x = this.mapWidth - this.width;\n      } else {\n        this.x = this.followed.bounds().left - this.width/2;\n      }\n      \n      if (this.followed.bounds().top < this.height/2) {\n        this.y = 0;\n      } else if (this.followed.bounds().top > (this.mapHeight - this.height/2)) {\n        this.y = this.mapHeight - this.height;\n      } else {\n        this.y = this.followed.bounds().top - this.height/2;\n      }\n    }\n\n    this.timeUp()\n  }\n\n  takeScore(score, size) {\n    this.score = score\n    this.salmonSize = size\n    this.gameover = true\n  }\n\n  showStartScreen(ctx) {\n    this.blackScreen(ctx)\n    this.showTitle(ctx)\n    this.showStartDir(ctx)\n  } \n\n  showTitle(ctx) {\n    ctx.font = \"90px Baloo\";\n    ctx.fillStyle = \"white\";\n    ctx.textAlign = \"center\";\n    let text = \"Salmon Run\"\n    ctx.fillText(text, this.width / 2, this.height / 2);\n  }\n\n  showStartDir(ctx) {\n    ctx.font = \"20px Baloo\";\n    ctx.fillStyle = \"white\";\n    ctx.textAlign = \"center\";\n    let text = \"Press Space to Start\"\n    ctx.fillText(text, this.width / 2, (this.height / 3) * 2.5);\n  }\n\n  showEndScreen(ctx) {\n    this.blackScreen(ctx)\n    this.showScore(ctx)\n    this.showReplay(ctx)\n  }\n\n  showReplay(ctx) {\n    ctx.font = \"20px Baloo\";\n    ctx.fillStyle = \"white\";\n    ctx.textAlign = \"center\";\n    let text = \"Press Space to Replay\"\n    ctx.fillText(text, this.width / 2, (this.height / 3) * 2.5);\n  }\n\n  showScore(ctx) {\n    ctx.font = \"50px Baloo\";\n    ctx.fillStyle = \"white\";\n    ctx.textAlign = \"center\";\n    let text = \"Food Score: \" + this.score\n    ctx.fillText(text, this.width / 2, this.height / 3);\n    text = \"Salmon Size: \" + this.salmonSize\n    ctx.fillText(text, this.width / 2, (this.height / 3) * 1.5);\n  }\n\n  blackScreen(ctx) {\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 0, this.width, this.height)\n  }\n\n  draw(ctx, img) {\n    if (this.atStart) {\n      this.showStartScreen(ctx)\n    } else {\n      if (this.gameover) {\n        this.showEndScreen(ctx)\n      } else {\n        ctx.drawImage(img, this.x, this.y, this.width, this.height, 0, 0, this.width, this.height);\n        this.drawCountdown(ctx)\n    \n        if (this.paused) {\n          ctx.font = \"80px Baloo\";\n          ctx.textAlign = \"center\";\n          ctx.fillText(\"PAUSED\", this.width / 2, this.height / 2);\n        }\n      }\n    }\n  }\n\n  drawCountdown(ctx) {\n    ctx.font = \"50px Baloo\";\n    ctx.fillStyle = \"black\";\n    ctx.textAlign = \"center\";\n    ctx.fillText(this.countdown, this.width / 2, 50);\n  }\n\n  animate(ctx, img) {\n    ctx.clearRect(0, 0, this.width, this.height)\n    if (!this.gameover) this.update();\n    this.draw(ctx, img)\n  }\n}","export default class Element {\n  constructor(pos, width, height) {\n    this.pos = pos;\n    this.width = width;\n    this.height = height;\n\n    this.left = this.pos[0];\n    this.top = this.pos[1];\n    this.right = this.left + this.width;\n    this.bottom = this.top + this.height;\n  }\n  \n  //rect collision\n  salmonIsIn(salmon) {\n    const _overlap = (rect1, rect2) => {\n      //check that they don't overlap in the x axis\n      if (rect1.left > rect2.bounds().right || rect1.right < rect2.bounds().left) {\n        return false;\n      }\n      //check that they don't overlap in the y axis\n      if (rect1.top > rect2.bounds().bottom || rect1.bottom < rect2.bounds().top) {\n        // debugger\n        return false;\n      }\n      return true;\n    };\n\n    let isIn = false;\n    if (_overlap(this, salmon)) { \n      // debugger\n      isIn = true; }\n    return isIn\n  }\n\n  bounds() {\n    return ({\n      left: this.pos[0],\n      top: this.pos[1],\n      right: (this.left + this.width),\n      bottom: (this.top + this.height),\n    })\n  }\n\n  // collidesWith(bird) {\n  //   //this function returns true if the the rectangles overlap\n  //   const _overlap = (rect1, rect2) => {\n  //     //check that they don't overlap in the x axis\n  //     if (rect1.left > rect2.right || rect1.right < rect2.left) {\n  //       return false;\n  //     }\n  //     //check that they don't overlap in the y axis\n  //     if (rect1.top > rect2.bottom || rect1.bottom < rect2.top) {\n  //       return false;\n  //     }\n  //     return true;\n  //   };\n  //   let collision = false;\n  //   this.eachPipe((pipe) => {\n  //     if (\n  //       //check if the bird is overlapping (colliding) with either pipe\n  //       _overlap(pipe.topPipe, bird) ||\n  //       _overlap(pipe.bottomPipe, bird)\n  //     ) {\n  //       collision = true;\n  //     }\n  //   });\n  //   return collision;\n  // }\n}","import Element from './element';\n\nexport default class Ground extends Element {\n  constructor(pos, width, height) {\n    super(pos, width, height)\n\n    this.pos = pos;\n    this.width = width;\n    this.height = height;\n\n    this.left = this.pos[0];\n    this.top = this.pos[1];\n    this.right = this.left + this.width;\n    this.bottom = this.top + this.height;\n  }\n\n  stopSalmon(salmon) {\n    if (this.salmonIsIn(salmon)) {\n      // debugger\n      // salmon.yVel = 0;\n      if (salmon.yVel > 0) {\n        salmon.y = this.top - salmon.height;\n\n      }\n    }\n  }\n\n  drawGround(ctx) {\n    ctx.fillStyle = \"gray\";\n    ctx.fillRect(this.left, this.top, this.right, this.bottom);\n  }\n\n  animate(ctx) {\n    this.drawGround(ctx);\n  }\n\n}","import SalmonRun from './salmon_run';\n\nconst canvas = document.getElementById('canvas');\nconst cam = document.getElementById('camera');\nnew SalmonRun(canvas, cam);\n\n","import Prey from \"./prey\";\n\nexport default class Krill extends Prey {\n  constructor(pos, width, height) {\n    super(pos, width, height);\n\n    this.pos = pos;\n    this.x = pos[0];\n    this.y = pos[1];\n    this.width = width;\n    this.height = height;\n\n    this.foodValue = 3;\n    this.eaten = false\n\n    this.img = new Image();\n    this.img.src = \"./assets/images/krill.png\";\n  }\n}","import Air from './air';\nimport Water from './water';\nimport Ground from './ground';\n// import MovingObj from './moving_obj';\nimport ZooPlankton from './zoo_plankton';\nimport Krill from './krill';\n\nexport default class Level {\n  constructor(dimensions) {\n    this.width = dimensions.width;\n    this.height = dimensions.height\n    this.food = []\n    this.enemies = []\n\n    this.buildLevel();\n  }\n\n  buildLevel() {\n    //loop through air, water, ground arrays and build them\n    this.air = new Air ([0,0], this.width, this.height);\n    this.water = new Water([0,200], this.width, this.height - 200, 'rect');\n    \n    this.rawGrounds = [\n      {pos: [0, this.height - 50], width: this.width, height: (this.height - 350)},\n      // {pos: [700, 140], width: 50, height: (this.height - 350 - 150)}\n    ]\n    this.grounds = []\n    this.rawGrounds.forEach( option => {\n      const ground = new Ground(option.pos, option.width, option.height);\n      this.grounds.push(ground);\n      // debugger\n    })\n    // this.ground = new Ground([0, 350], this.width, this.height - 350 - 150);\n  }\n\n  generateFood(num) {\n    \n    let lastFood = this.food.length - 1\n    if (this.food.length < num) {\n      let spacing\n      this.food[lastFood] ? spacing = this.food[lastFood].x + 150 : spacing = this.width\n      \n      if (spacing <= this.width) {\n        const krill = new Krill([spacing, this.water.randomYPos()], 15, 15);\n        this.food.push(krill)\n      }\n    }\n  }\n\n  atSurface(salmon) {\n    //loop through water arrays and check if salmon\n    return this.water.top <= salmon.bounds().bottom;\n  }\n\n  inLevel(salmon) {\n    if (salmon.bounds().left < 0) {\n      salmon.x = 0\n    } else if (salmon.bounds().right > this.width) {\n      salmon.x = this.width - salmon.height\n    }\n  }\n\n  animateFood(ctx, salmon) {\n    this.generateFood(8)\n\n    this.food.forEach((prey, i) => {\n      prey.getEaten(salmon)\n      if (prey.eaten || prey.x < 0 || prey.x > this.width || prey.y > this.height) this.food.splice(i, 1)\n      this.water.applyCurrent(prey)\n      prey.moveRandomly()\n      prey.animate(ctx)\n    })\n  }\n\n  animateEnv(ctx, salmon) {\n    // loop through air, water, ground arrays and apply their effects to salmon\n    this.air.applyAir(salmon);\n    this.water.applyCurrent(salmon);\n\n    this.grounds.forEach(ground => {\n      ground.stopSalmon(salmon)\n    });\n    // this.ground.stopSalmon(salmon);\n\n    // loop through air, water, ground arrays and draw them\n    this.air.animate(ctx);\n    this.water.animate(ctx);\n    // this.ground.animate(ctx);\n    this.grounds.forEach(ground => ground.animate(ctx));\n  }\n\n  animate(ctx, salmon) {\n    this.animateEnv(ctx, salmon)\n    this.animateFood(ctx, salmon)\n  }\n}","export default class MovingObj {\n  constructor(pos, width, height) {\n    this.pos = pos;\n\n    this.x = pos[0];\n    this.y = pos[1];\n    this.width = width;\n    this.height = height;\n\n    this.xVel = 0;\n    this.yVel = 0;\n  }\n\n  collide(salmon) {\n    const _overlap = (rect1, rect2) => {\n      //check that they don't overlap in the x axis\n      if (rect1.bounds().left > rect2.bounds().right || rect1.bounds().right < rect2.bounds().left) {\n        return false;\n      }\n      //check that they don't overlap in the y axis\n      if (rect1.bounds().top > rect2.bounds().bottom || rect1.bounds().bottom < rect2.bounds().top) {\n        return false;\n      }\n      return true;\n    };\n\n    let touch = false;\n    // if (salmon.y === Nan)\n    if (_overlap(this, salmon)) {\n      touch = true;\n    }\n    return touch\n  }\n\n  draw(ctx) {\n    if (!this.eaten) {\n      ctx.drawImage(this.img, 0, 0, this.img.width, this.img.height, this.x, this.y, this.width, this.height)\n    }\n  }\n\n  update() {\n    this.x += this.xVel\n    // this.y += this.yVel\n    // const frameSpeed = 10;\n    // const endFrame = 3\n\n    // if (this.counter === (frameSpeed - 1)) {\n    //   this.currentFrame = (this.currentFrame + 1) % endFrame;\n    // }\n    // this.counter = (this.counter + 1) % frameSpeed;\n  }\n\n  animate(ctx) {\n    this.update();\n    this.draw(ctx);\n  }\n\n  bounds() {\n    return {\n      left: this.x,\n      right: this.x + this.width,\n      top: this.y,\n      bottom: this.y + this.height,\n    };\n  }\n}","import MovingObj from \"./moving_obj\";\n\nexport default class Prey extends MovingObj {\n  constructor(pos, width, height) {\n    super(pos, width, height);\n\n    this.pos = pos;\n    this.x = pos[0];\n    this.y = pos[1];\n    this.width = width;\n    this.height = height;\n    \n    this.foodValue = 0;\n    this.eaten = false;\n\n    this.img = new Image();\n    // this.img.src = \"./assets/images/zoo-plankton.png\";\n  }\n\n  moveRandomly() {\n    this.x += Math.floor(Math.random() * 5)\n    this.x -= Math.floor(Math.random() * 3)\n    this.y += Math.floor(Math.random() * 5)\n    this.y -= Math.floor(Math.random() * 5)\n  }\n\n  getEaten(salmon) {\n    if (this.collide(salmon)) {\n      if (!this.eaten) {\n        salmon.totalEaten += this.foodValue;\n        salmon.grow();\n        this.eaten = true;\n      }\n    }\n  }\n}","const CONSTANTS = {\n  GRAVITY: 1,\n  TERMINAL_VEL: 25,\n};\n\nexport default class Salmon {\n  constructor(width) {\n    this.x = 150;\n    this.y = 350;\n\n    this.initialWidth = width;\n\n    this.width = this.initialWidth;\n    this.height = this.width * .56;\n    this.yVel = 0;\n    this.xVel = 0;\n    // this.jumpSpeed = this.height *;\n\n    this.alive = true;\n    this.faceLeft = true;\n    this.totalEaten = 0;\n\n    this.currentFrame = 0;\n    this.counter = 0;\n  }\n\n  // jump() { this.yVel = -1 * this.jumpSpeed; }\n\n  moveLeft() { this.xVel += -1 * this.height/9; this.faceLeft = true}\n  moveRight() { this.xVel += this.height/9; this.faceLeft = false}\n  moveUp() { this.yVel += -1 * this.height/5; }\n  moveDown() { this.yVel += this.height/7; }\n\n  moveSalmon() {\n    this.x += this.xVel;\n    this.y += this.yVel;\n    this.yVel += CONSTANTS.GRAVITY;\n\n    if (this.yVel > CONSTANTS.TERMINAL_VEL) {\n      this.yVel = CONSTANTS.TERMINAL_VEL;\n    }\n    \n  }\n\n  grow() {\n    this.width = this.initialWidth + Math.floor(this.totalEaten/3)\n  }\n\n  drawSalmon(ctx) {\n    this.height = this.width * .56;\n    // ctx.save();\n    const salmonImg = new Image();\n    const framesWidth = 25;\n    const framesHeight = 14;\n    \n    salmonImg.src = \"./assets/images/salmon.png\";\n    if (this.faceLeft) {\n      ctx.drawImage(salmonImg, 0, this.currentFrame * framesHeight, framesWidth, framesHeight, this.x, this.y, this.width, this.height)\n    } else {\n      ctx.drawImage(salmonImg, 26, this.currentFrame * framesHeight, framesWidth, framesHeight, this.x - this.width + this.height, this.y, this.width, this.height)\n    }\n    // ctx.restore();\n  }\n\n  update() {\n    const frameSpeed = 10;\n    const endFrame = 3\n\n    if (this.counter === (frameSpeed - 1)) {\n      this.currentFrame = (this.currentFrame + 1) % endFrame;\n    }\n    this.counter = (this.counter + 1) % frameSpeed;\n  }\n\n  animate(ctx) {\n    this.update();\n    this.moveSalmon();\n    this.drawSalmon(ctx);\n  }\n\n  bounds() {\n    return {\n      left: this.x,\n      right: this.x + this.height,\n      top: this.y,\n      bottom: this.y + this.height,\n    };\n  }\n}","import Salmon from \"./salmon\";\nimport Level from \"./level\";\nimport Camera from \"./camera\";\n\nexport default class SalmonRun {\n  constructor(canvas, cam) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext(\"2d\");\n    this.dimensions = {\n      width: canvas.width,\n      height: canvas.height\n    };\n    this.cam = cam.getContext(\"2d\");\n    this.camDim = {\n      width: cam.width,\n      height: cam.height\n    }\n\n    this.moveInput = {\n      up: false,\n      left: false,\n      down: false,\n      right: false,\n    }\n\n    this.running = true;\n\n    this.registerEvents();\n    this.restart()\n    this.startNewGame();\n  }\n\n  play() {\n    if (!this.running) {\n      this.unpause()\n      this.animate();\n    }\n  }\n\n  pause() {\n    if (this.running) {\n      this.running = false;\n      this.camera.pause()\n    }\n  }\n\n  unpause() {\n    this.running = true;\n    this.camera.unpause()\n  }\n\n  gameOver() {\n    return !this.salmon.alive || this.timeZero()\n  }\n\n  timeZero() {\n    return this.timeleft() <= 0\n  }\n\n  timeleft() {\n    return this.camera.countdown\n  }\n\n  startNewGame() {\n    this.camera.atStart = true\n  }\n\n  restart() {\n    this.running = false;\n    this.salmon = new Salmon(25);\n    this.level = new Level(this.dimensions);\n    this.camera = new Camera(0, 0, this.camDim.width, this.camDim.height, this.dimensions.width, this.dimensions.height);\n    this.camera.follow(this.salmon);\n\n    this.animate();\n  }\n\n  registerEvents() {\n    // this.ctx.canvas.addEventListener(\"mousedown\", this.click.bind(this));\n    document.addEventListener(\"keydown\", this.keyDown.bind(this));\n    document.addEventListener(\"keyup\", this.keyUp.bind(this));\n  }\n\n  click(e) {\n    if (!this.running) this.play();\n  }\n\n  keyDown(e) {\n    // console.log(e.key)\n    // controls\n    if (e.key === 'w' || e.key === 'ArrowUp') this.moveInput.up = true;\n    if (e.key === 'a' || e.key === 'ArrowLeft') this.moveInput.left = true;\n    if (e.key === 's' || e.key === 'ArrowDown') this.moveInput.down = true;\n    if (e.key === 'd' || e.key === 'ArrowRight') this.moveInput.right = true;\n\n    // gameplay controls\n    if (e.key === 'p' || e.key === 'Escape') this.pause()\n    if (e.key === ' ') this.play()\n    if (e.key === ' ' && this.camera.atStart) this.camera.atStart = false\n    if (e.key === ' ' && this.gameOver()) {\n      this.restart() \n      // this.unpause()\n    }\n  }\n\n  keyUp(e) {\n    if (e.key === 'w' || e.key === 'ArrowUp') this.moveInput.up = false;\n    if (e.key === 'a' || e.key === 'ArrowLeft') this.moveInput.left = false;\n    if (e.key === 's' || e.key === 'ArrowDown') this.moveInput.down = false;\n    if (e.key === 'd' || e.key === 'ArrowRight') this.moveInput.right = false;\n  }\n\n  salmonMove() {\n    if (this.moveInput.up) this.salmon.moveUp();\n    if (this.moveInput.left) this.salmon.moveLeft();\n    if (this.moveInput.down) this.salmon.moveDown();\n    if (this.moveInput.right) this.salmon.moveRight();\n    this.level.inLevel(this.salmon)\n  }\n\n  salmonTotalEaten() {\n    return this.salmon.totalEaten\n  }\n\n  showScore() {\n    this.camera.takeScore(this.salmonTotalEaten(), this.salmon.width)\n    setTimeout(() => (this.running = false), 0)\n  }\n\n  playGame() {\n    if (this.level.atSurface(this.salmon)) this.salmonMove();\n\n    this.level.animate(this.ctx, this.salmon);\n    this.salmon.animate(this.ctx);\n    this.camera.animate(this.cam, this.canvas)\n\n    if (this.gameOver()) this.showScore()\n\n    if (this.running) {\n      requestAnimationFrame(this.animate.bind(this))\n    }\n  }\n\n  animate() {\n    this.ctx.clearRect(0, 0, this.dimensions.width, this.dimensions.height)\n    this.playGame()\n  }\n\n}","import Element from './element';\n\nexport default class Water extends Element {\n  constructor(pos, width, height, shape) {\n    super(pos, width, height)\n\n    this.pos = [pos[0] + width/2, pos[1] + height/2];\n    this.width = width;\n    this.height = height;\n    this.shape = shape;\n\n    this.left = pos[0];\n    this.top = pos[1];\n    this.right = this.left + this.width;\n    this.bottom = this.top + this.height;\n    \n    this.friction = 0.8;\n    this.current = -1;\n    this.buoyancy = -0.5;\n  }\n\n  randomPos() {\n    return [this.randomPos(), this.randomYPos()];\n  }\n\n  randomXPos() {\n    return Math.floor(Math.random() * this.width);\n  }\n\n  randomYPos() {\n    return Math.floor(Math.random() * (this.height - 50) + this.top);\n  }\n\n  applyCurrent(obj) {\n    if (this.salmonIsIn(obj)) {\n      obj.xVel *= this.friction;\n      obj.yVel *= this.friction;\n      obj.xVel += this.current;\n      obj.yVel += this.buoyancy;\n\n      if (obj.y < this.top + 100) {\n        obj.xVel += this.current;\n        obj.yVel -= this.buoyancy;\n      }\n    }\n  }\n\n  inWater(salmon) {\n    const _overlap = (rect1, rect2) => {\n      const obj1Radius = rect1.width/2;\n      const obj2Radius = rect2.height/2;\n      const totalRadius = obj1Radius + obj2Radius;\n\n      const a = rect2.x - rect1.pos[0];\n      const b = rect2.y - rect1.pos[1];\n      const c = Math.sqrt((a * a) + (b * b));\n      //check that they don't overlap in the x axis\n\n      if (c < totalRadius) return true;\n      return false;\n    };\n\n    let isIn = false;\n    if (_overlap(this, salmon)) isIn = true;\n    return _overlap(this, salmon)\n  }\n\n  drawWater(ctx) {\n    ctx.fillStyle = \"rgba(150, 205, 255, 0.8)\";\n    if (this.shape === 'rect') {\n      ctx.fillRect(this.left, this.top, this.width, this.height);\n    // } else if (this.shape === 'circle') {\n    //   ctx.beginPath();\n    //   ctx.arc(this.pos[0], this.pos[1], this.width/6, 0, 360)\n    //   ctx.fill();\n    }\n  }\n\n  \n\n  animate(ctx) {\n    this.drawWater(ctx);\n  }\n\n}","import Prey from \"./prey\";\n\nexport default class ZooPlankton extends Prey {\n  constructor(pos, width, height) {\n    super(pos, width, height);\n\n    this.pos = pos;\n    this.x = pos[0];\n    this.y = pos[1];\n    this.width = width;\n    this.height = height;\n\n    this.foodValue = 1;\n    this.eaten = false\n\n    this.img = new Image();\n    this.img.src = \"./assets/images/zoo-plankton.png\";\n  }\n}"],"sourceRoot":""}